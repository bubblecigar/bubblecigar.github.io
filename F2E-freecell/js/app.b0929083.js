(function(t){function e(e){for(var n,r,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)r=o[d],s[r]&&p.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],n=!0,o=1;o<i.length;o++){var c=i[o];0!==s[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},a=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/F2E-freecell/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var n=i("64a9"),s=i.n(n);s.a},"0873":function(t,e,i){},"15f7":function(t,e,i){},"477f":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"background-pattern",attrs:{id:"app"},on:{mousemove:t.updateMousePosition,mouseup:t.captureCards}},[i("ScoreBoard",{attrs:{gameInfo:t.gameInfo,finishingTime:t.finishingTime}},[i("Button",{attrs:{eventName:"startNewGame"},on:{startNewGame:t.startNewGame}},[t._v("new game")])],1),i("GamePanel",{attrs:{gameInfo:t.gameInfo}},[i("Clock",{attrs:{gameState:t.gameState,startingStamp:t.startingStamp},on:{timeUp:t.updateTime}}),i("Button",{staticStyle:{"margin-left":"auto"},attrs:{eventName:"backward",disabled:!t.historyStack.length},on:{backward:t.backward}},[t._v("backward")]),i("Button",{attrs:{eventName:"startNewGame"},on:{startNewGame:t.startNewGame}},[t._v("new game")])],1),t._l(t.groups,function(e,n){return i("SlotGroup",{class:[t.setClassByGI(n)]},t._l(e,function(e,s){return i("CardSlot",{attrs:{indexs:{gi:n,si:s}},on:{slotPicked:t.slotPicked}},t._l(e,function(e,a){return i("Card",{style:{top:t.top(a,n),opacity:t.isHide(n,s,a),"z-index":t.zIndex(a)},attrs:{card:e,indexs:{gi:n,si:s,ci:a}},on:{cardPicked:t.cardPicked}})}),1)}),1)}),i("HoldSlot",{attrs:{mousePosition:t.mousePosition,layerCoord:t.holdingSlot.layerCoord}},t._l(t.holdingSlot.cards,function(e,n){return i("Card",{style:{top:t.top(n)},attrs:{card:e}})}),1)],2)},a=[],r=i("75fc"),o=(i("ac6a"),{name:"app",components:{},data:function(){return{groups:this.createDeck(),mousePosition:{clientX:0,clientY:0,layerX:0,layerY:0},holdingSlot:{cards:[],indexs:{gi:-1,si:-1,ci:-1},layerCoord:{layerX:0,layerY:0}},historyStack:[],steps:0,startingStamp:Date.now(),finishingTime:{minute:"00",second:"00"}}},computed:{gameState:function(){return this.finishedCards>=52?"Win":"Playing"},finishedCards:function(){var t=0;return this.groups[0].forEach(function(e){t+=e.length}),t},gameInfo:function(){return{gameState:this.gameState,finishedCards:this.finishedCards,steps:this.steps}}},methods:{zIndex:function(t){return t+2},updateTime:function(t){this.finishingTime.minute=t.minute,this.finishingTime.second=t.second},isHide:function(t,e,i){var n=this.holdingSlot.indexs;return n.gi===t&&n.si===e&&n.ci<=i?.5:1},startNewGame:function(){this.clearDeck(),this.groups=this.createDeck(),this.steps=0,this.historyStack.splice(0),this.startingStamp=Date.now(),this.finishingTime.minute="00",this.finishingTime.second="00"},setClassByGI:function(t){switch(t){case 0:return"foundation-group";case 1:return"cell-group";case 2:return"cascade-group"}},captureCards:function(){this.clearHoldingSlot()},updateMousePosition:function(t){this.mousePosition.clientX=t.clientX,this.mousePosition.clientY=t.clientY},top:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;switch(e){case 0:return"0px";case 1:return"0px";case 2:return"".concat(30*t,"px")}},createDeck:function(){for(var t,e,i,n,s,a,o,c,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"up",u=[],d=0;d<52;d++){var p={};switch(p.id=d+1,p.point=1+d%13,Math.floor(d/13)){case 0:p.suit="spade",p.color="black";break;case 1:p.suit="heart",p.color="red";break;case 2:p.suit="diamond",p.color="red";break;case 3:p.suit="club",p.color="black";break}p.side=l,u.push(p)}var f=[];while(u.length>0){var h=Math.floor(Math.random()*u.length);f.push(u.splice(h,1)[0])}var m=[[[],[],[],[]],[[],[],[],[]],[[],[],[],[],[],[],[],[]]];return(t=m[2][0]).push.apply(t,Object(r["a"])(f.splice(0,7))),(e=m[2][1]).push.apply(e,Object(r["a"])(f.splice(0,7))),(i=m[2][2]).push.apply(i,Object(r["a"])(f.splice(0,7))),(n=m[2][3]).push.apply(n,Object(r["a"])(f.splice(0,7))),(s=m[2][4]).push.apply(s,Object(r["a"])(f.splice(0,6))),(a=m[2][5]).push.apply(a,Object(r["a"])(f.splice(0,6))),(o=m[2][6]).push.apply(o,Object(r["a"])(f.splice(0,6))),(c=m[2][7]).push.apply(c,Object(r["a"])(f.splice(0,6))),m},clearDeck:function(){this.groups.forEach(function(t){t.forEach(function(t){t.splice(0)})})},copyCard:function(t){var e={};return e.id=t.id,e.point=t.point,e.side=t.side,e.color=t.color,e.suit=t.suit,e},cardPicked:function(t,e){if(0===this.holdingSlot.cards.length){var i=this.groups[t.gi],n=i[t.si],s=n[t.ci];if("down"===s.side){if(t.ci===n.length-1){this.historyStack.push(this.copyGroups());var a=n.pop();a=this.copyCard(a),a.side="up",n.push(a),this.steps++}}else{var o,c=Object(r["a"])(n);if(c=c.splice(t.ci),this.isInOrder(c))(o=this.holdingSlot.cards).push.apply(o,Object(r["a"])(c)),this.holdingSlot.indexs.gi=t.gi,this.holdingSlot.indexs.si=t.si,this.holdingSlot.indexs.ci=t.ci,this.holdingSlot.layerCoord.layerX=e.layerX,this.holdingSlot.layerCoord.layerY=e.layerY}}},slotPicked:function(t){if(this.holdingSlot.cards.length>0){var e=this.groups[t.gi],i=e[t.si],n=this.holdingSlot.indexs;if(0===t.gi&&1===this.holdingSlot.cards.length){if(0===i.length&&1===this.holdingSlot.cards[0].point)this.movePile(n,i);else if(i.length>0){var s=i[i.length-1];this.holdingSlot.cards[0].point===s.point+1&&this.holdingSlot.cards[0].suit===s.suit&&this.movePile(n,i)}}else if(1===t.gi&&1===this.holdingSlot.cards.length&&0===i.length)this.movePile(n,i);else if(2===t.gi)if(0===i.length)this.movePile(n,i);else{var a=i[i.length-1];if("down"===a.side)this.movePile(n,i);else if("up"===a.side){var o=[a].concat(Object(r["a"])(this.holdingSlot.cards));this.isInOrder(o)&&this.movePile(n,i)}}this.clearHoldingSlot()}},movePile:function(t,e){this.historyStack.push(this.copyGroups()),e.push.apply(e,Object(r["a"])(this.groups[t.gi][t.si].splice(t.ci))),this.steps++},copyGroups:function(){var t=[[[],[],[],[]],[[],[],[],[]],[[],[],[],[],[],[],[],[]]];return this.groups.forEach(function(e,i){e.forEach(function(e,n){e.forEach(function(e,s){t[i][n].push(e)})})}),t},backward:function(){var t=this.historyStack.pop();this.clearDeck(),this.groups.forEach(function(e,i){e.forEach(function(e,n){t[i][n].length>0&&e.push.apply(e,Object(r["a"])(t[i][n]))})}),this.steps++},clearHoldingSlot:function(){this.holdingSlot.cards.splice(0),this.holdingSlot.indexs.gi=-1,this.holdingSlot.indexs.si=-1,this.holdingSlot.indexs.ci=-1},isInOrder:function(t){for(var e=1;e<t.length;e++){if(t[e-1].point<t[e].point)return!1;if(t[e-1].color===t[e].color)return!1}return!0}}}),c=o,l=(i("034f"),i("2877")),u=Object(l["a"])(c,s,a,!1,null,null,null),d=u.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-slot unselectable",on:{mouseup:t.slotPicked}},[i("div",{staticClass:"hint",domProps:{innerHTML:t._s(t.hint)}}),t._t("default")],2)},f=[],h={props:{indexs:{type:Object,required:!0}},methods:{slotPicked:function(){this.$emit("slotPicked",this.indexs)}},computed:{hint:function(){switch(this.indexs.gi){case 0:return'<i class="fas fa-boxes"></i>';case 1:return'<i class="fas fa-dolly"></i>';case 2:return'<i class="fas fa-dolly-flatbed"></i>'}}}},m=h,g=(i("8d2e"),Object(l["a"])(m,p,f,!1,null,"3f8c96a8",null)),v=g.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slot-group"},[t._t("default")],2)},y=[],_={},S=_,C=(i("8cde"),Object(l["a"])(S,b,y,!1,null,"33a0c555",null)),k=C.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"card-wrapper card-hover",class:[t.card.side],on:{mousedown:t.cardPicked}},[i("div",{staticClass:"card-front card unselectable",class:[t.card.color]},[i("span",{staticClass:"banner-top banner"},[i("i",{class:t.card.suit,domProps:{innerHTML:t._s(t.suit_Icon(t.card.suit))}}),i("i",[t._v(t._s(t.point_AKQJ(t.card.point)))])]),i("span",{staticClass:"card-body",domProps:{innerHTML:t._s(t.point_PIC(t.card.point))}}),i("span",{staticClass:"banner-bottom banner"},[i("i",{class:t.card.suit,domProps:{innerHTML:t._s(t.suit_Icon(t.card.suit))}}),i("i",[t._v(t._s(t.point_AKQJ(t.card.point)))])]),i("div",{staticClass:"front-cover"})]),i("div",{staticClass:"card-back card"})])},P=[],O={props:{card:{type:Object,required:!1,default:function(){return{id:0,side:"up",color:"black",suit:"spade",point:0}}},indexs:{type:Object,required:!1,default:function(){return{gi:-1,si:-1,ci:-1}}}},methods:{cardPicked:function(t){var e={layerX:t.layerX,layerY:t.layerY};this.$emit("cardPicked",this.indexs,e)},point_AKQJ:function(t){switch(t){case 1:return"A";case 13:return"K";case 12:return"Q";case 11:return"J";default:return t}},point_PIC:function(t){switch(t){case 1:return'<i class="fas fa-chess-bishop"></i>';case 13:return'<i class="fas fa-chess-king"></i>';case 12:return'<i class="fas fa-chess-queen"></i>';case 11:return'<i class="fas fa-chess-knight"></i>';default:return t}},suit_Icon:function(t){switch(t){case"spade":return'<i class="fas fa-seedling"></i>';case"heart":return'<i class="fas fa-water"></i>';case"diamond":return'<i class="fas fa-cloud"></i>';case"club":return'<i class="fas fa-carrot"></i>'}}}},x=O,j=(i("b11f"),Object(l["a"])(x,w,P,!1,null,"0d1ee1d4",null)),T=j.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"hold-slot",style:{top:t.top,left:t.left}},[t._t("default")],2)},E=[],G={props:{mousePosition:{type:Object,required:!1,default:function(){return{clientX:0,clientY:0}}},layerCoord:{type:Object,required:!1,default:function(){return{layerX:0,layerY:0}}}},computed:{top:function(){return"".concat(this.mousePosition.clientY-this.layerCoord.layerY-5,"px")},left:function(){return"".concat(this.mousePosition.clientX-this.layerCoord.layerX,"px")}}},M=G,$=(i("ee6d"),Object(l["a"])(M,I,E,!1,null,"630038b0",null)),N=$.exports,Y=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game-panel"},[t._m(0),i("p",[i("i",{staticClass:"fas fa-layer-group"}),t._v("\n    "+t._s(t.gameInfo.finishedCards)+"\n  ")]),i("p",[i("i",{staticClass:"fas fa-shoe-prints"}),t._v("\n    "+t._s(t.gameInfo.steps)+"\n  ")]),t._t("default")],2)},X=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h1",[i("i",{staticClass:"fas fa-chess"}),t._v("\n    FreeCellÂ \n    "),i("i",{staticClass:"fas fa-chess-board slant"})])}],q={props:{gameInfo:{type:Object}}},D=q,H=(i("72db"),Object(l["a"])(D,Y,X,!1,null,"c1f3cd4c",null)),B=H.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"game-clock",class:{alert:t.needStart}},[i("i",{staticClass:"fas fa-clock"}),i("span",[t._v(t._s(t.stampToTime.minute)+" : "+t._s(t.stampToTime.second))])])},z=[],A=(i("6b54"),i("c5f6"),{props:{gameState:{type:String,required:!1,default:"Win"},startingStamp:{type:Number,required:!1,default:Date.now()}},data:function(){return{currentStamp:this.updateStamp(),working:!0}},methods:{updateStamp:function(){var t=this;if(this.currentStamp=Date.now(),"Playing"===this.gameState)window.requestAnimationFrame(function(){t.updateStamp()});else if("Win"===this.gameState)return this.$emit("timeUp",this.stampToTime),this.working=!1,0},start:function(){this.working=!0,this.startingStamp=Date.now(),this.currentStamp=this.updateStamp()}},computed:{needStart:function(){return!1===this.working&&"Playing"===this.gameState&&this.start(),!1},elapsedStamp:function(){var t=this.currentStamp-this.startingStamp,e=t/1e3,i=Math.floor(e/60);return e=60*-i,t},stampToTime:function(){var t=Math.floor(this.elapsedStamp/1e3),e=Math.floor(t/60);return t-=60*e,t="00"+t.toString(),t=t[t.length-2]+t[t.length-1],e="00"+e.toString(),e=e[e.length-2]+e[e.length-1],{second:t,minute:e}}}}),F=A,K=(i("cb59"),Object(l["a"])(F,J,z,!1,null,"77c4f80f",null)),L=K.exports,Q=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("button",{staticClass:"customized-button",on:{click:t.emitEvent}},[t._t("default")],2)},W=[],U={props:{eventName:{type:String,required:!0}},methods:{emitEvent:function(){this.$emit(this.eventName)}}},R=U,V=(i("77ff"),Object(l["a"])(R,Q,W,!1,null,"955e5b76",null)),Z=V.exports,tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrapper",class:{hide:"Playing"===t.gameInfo.gameState}},[i("div",{staticClass:"score-board background-pattern customized-font"},[i("p",[t._v("Congratulation !")]),i("p",[t._v("\n      You have finished FreeCell in\n      "),i("strong",[t._v(t._s(Number(t.finishingTime.minute)))]),t._v(" minute(s) and\n      "),i("strong",[t._v(t._s(Number(t.finishingTime.second)))]),t._v(" seconds\n      with\n      "),i("strong",[t._v(t._s(t.gameInfo.steps))]),t._v(" steps\n    ")]),t._m(0),i("p",{staticClass:"delay"},[t._v("\n      >>>\n      "),t._t("default"),t._v("<<<\n    ")],2)])])},et=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",[t._v("\n      good job !\n      "),i("i",{staticClass:"fas fa-laugh-wink rotate"})])}],it={props:{gameInfo:{type:Object,required:!0},finishingTime:{type:Object,required:!0}}},nt=it,st=(i("e848"),Object(l["a"])(nt,tt,et,!1,null,"0aa70a2c",null)),at=st.exports;n["a"].component("CardSlot",v),n["a"].component("SlotGroup",k),n["a"].component("Card",T),n["a"].component("HoldSlot",N),n["a"].component("GamePanel",B),n["a"].component("Clock",L),n["a"].component("Button",Z),n["a"].component("ScoreBoard",at),n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(d)}}).$mount("#app")},"5a71":function(t,e,i){},"64a9":function(t,e,i){},"72db":function(t,e,i){"use strict";var n=i("dd50"),s=i.n(n);s.a},"774a":function(t,e,i){},"77ff":function(t,e,i){"use strict";var n=i("774a"),s=i.n(n);s.a},"8cde":function(t,e,i){"use strict";var n=i("ff1f"),s=i.n(n);s.a},"8d2e":function(t,e,i){"use strict";var n=i("477f"),s=i.n(n);s.a},"95f9":function(t,e,i){},b11f:function(t,e,i){"use strict";var n=i("15f7"),s=i.n(n);s.a},cb59:function(t,e,i){"use strict";var n=i("0873"),s=i.n(n);s.a},dd50:function(t,e,i){},e848:function(t,e,i){"use strict";var n=i("5a71"),s=i.n(n);s.a},ee6d:function(t,e,i){"use strict";var n=i("95f9"),s=i.n(n);s.a},ff1f:function(t,e,i){}});
//# sourceMappingURL=app.b0929083.js.map